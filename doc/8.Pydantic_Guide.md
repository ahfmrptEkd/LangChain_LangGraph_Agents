# ğŸ›¡ï¸ Pydantic ì™„ì „ ê°€ì´ë“œ for LangChain

> LangChainì—ì„œ êµ¬ì¡°í™”ëœ ì¶œë ¥ê³¼ ë°ì´í„° ê²€ì¦ì„ ìœ„í•œ Pydantic í™œìš©ë²•

## ğŸ“š ëª©ì°¨

- [Pydantic ê¸°ë³¸ ê°œë…](#-pydantic-ê¸°ë³¸-ê°œë…)
- [BaseModel ê¸°ë³¸ ì‚¬ìš©ë²•](#-basemodel-ê¸°ë³¸-ì‚¬ìš©ë²•)
- [Fieldë¥¼ í†µí•œ ê³ ê¸‰ ê²€ì¦](#-fieldë¥¼-í†µí•œ-ê³ ê¸‰-ê²€ì¦)
- [Validator ì‹¬í™” ê°€ì´ë“œ](#-validator-ì‹¬í™”-ê°€ì´ë“œ)
- [LangChainê³¼ì˜ í†µí•©](#-langchainê³¼ì˜-í†µí•©)
- [ì‹¤ì „ í™œìš© íŒ¨í„´](#-ì‹¤ì „-í™œìš©-íŒ¨í„´)
- [ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](#-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ğŸ¯ Pydantic ê¸°ë³¸ ê°œë…

### ì •ì˜
**Pydantic**ì€ Pythonì˜ íƒ€ì… íŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ê²€ì¦ê³¼ ì§ë ¬í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•
- âœ… **íƒ€ì… ì•ˆì „ì„±**: Python íƒ€ì… íŒíŠ¸ ê¸°ë°˜ ìë™ ê²€ì¦
- âœ… **ì„±ëŠ¥**: Cë¡œ ì‘ì„±ëœ ì½”ì–´ë¡œ ë¹ ë¥¸ ì²˜ë¦¬
- âœ… **IDE ì§€ì›**: ìë™ì™„ì„±ê³¼ íƒ€ì… ì²´í¬ ì§€ì›
- âœ… **JSON í˜¸í™˜**: ìë™ ì§ë ¬í™”/ì—­ì§ë ¬í™”

### LangChainì—ì„œì˜ ì—­í• 
```python
# LangChain + Pydantic ê¸°ë³¸ íë¦„
LLM ì¶œë ¥ â†’ Pydantic ëª¨ë¸ â†’ êµ¬ì¡°í™”ëœ ë°ì´í„° â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§
```

---

## ğŸ—ï¸ BaseModel ê¸°ë³¸ ì‚¬ìš©ë²•

### ê¸°ë³¸ ëª¨ë¸ ì •ì˜
```python
from pydantic import BaseModel, Field
from typing import Optional, List
from datetime import datetime

class Person(BaseModel):
    """ê°œì¸ ì •ë³´ë¥¼ í‘œí˜„í•˜ëŠ” ê¸°ë³¸ ëª¨ë¸"""
    name: str
    age: int
    email: Optional[str] = None
    is_active: bool = True
    created_at: datetime = Field(default_factory=datetime.now)
```

### ëª¨ë¸ ì‚¬ìš© ì˜ˆì‹œ
```python
# 1. ë”•ì…”ë„ˆë¦¬ë¡œë¶€í„° ìƒì„±
person_data = {
    "name": "ê¹€ì² ìˆ˜",
    "age": 30,
    "email": "kim@example.com"
}
person = Person(**person_data)

# 2. ì§ì ‘ ìƒì„±
person = Person(name="ê¹€ì² ìˆ˜", age=30)

# 3. JSONì—ì„œ ìƒì„±
json_str = '{"name": "ê¹€ì² ìˆ˜", "age": 30}'
person = Person.model_validate_json(json_str)

# 4. ë”•ì…”ë„ˆë¦¬ë¡œ ë³€í™˜
person_dict = person.model_dump()
# {'name': 'ê¹€ì² ìˆ˜', 'age': 30, 'email': None, 'is_active': True, 'created_at': datetime(...)}

# 5. JSONìœ¼ë¡œ ë³€í™˜
person_json = person.model_dump_json()
# '{"name":"ê¹€ì² ìˆ˜","age":30,"email":null,"is_active":true,"created_at":"2024-01-01T10:00:00"}'
```

### ì¤‘ì²© ëª¨ë¸
```python
class Address(BaseModel):
    street: str
    city: str
    country: str = "í•œêµ­"

class Company(BaseModel):
    name: str
    address: Address
    employees: List[Person]

# ì‚¬ìš© ì˜ˆì‹œ
company = Company(
    name="í…Œí¬íšŒì‚¬",
    address=Address(street="ê°•ë‚¨ëŒ€ë¡œ 123", city="ì„œìš¸"),
    employees=[
        Person(name="ê¹€ì² ìˆ˜", age=30),
        Person(name="ì´ì˜í¬", age=25)
    ]
)
```

---

## ğŸ”§ Fieldë¥¼ í†µí•œ ê³ ê¸‰ ê²€ì¦

### Field ê¸°ë³¸ ì‚¬ìš©ë²•
```python
from pydantic import BaseModel, Field
from typing import Annotated

class User(BaseModel):
    # ê¸°ë³¸ ì œì•½ì¡°ê±´
    name: str = Field(min_length=1, max_length=100, description="ì‚¬ìš©ì ì´ë¦„")
    age: int = Field(ge=0, le=150, description="ë‚˜ì´ (0-150)")
    email: str = Field(pattern=r'^[\w\.-]+@[\w\.-]+\.\w+$', description="ì´ë©”ì¼ ì£¼ì†Œ")
    
    # ìˆ«ì ì œì•½ì¡°ê±´
    score: float = Field(gt=0.0, lt=100.0, description="ì ìˆ˜ (0-100 ì‚¬ì´)")
    
    # ë¦¬ìŠ¤íŠ¸ ì œì•½ì¡°ê±´
    tags: List[str] = Field(max_length=10, description="ìµœëŒ€ 10ê°œì˜ íƒœê·¸")
    
    # ê¸°ë³¸ê°’ ì„¤ì •
    status: str = Field(default="active", description="ê³„ì • ìƒíƒœ")
    metadata: dict = Field(default_factory=dict, description="ì¶”ê°€ ë©”íƒ€ë°ì´í„°")
```

### Field ì œì•½ì¡°ê±´ ì˜µì…˜

| íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… | ì˜ˆì‹œ |
|------|----------|------|------|
| **ë¬¸ìì—´** | `min_length`, `max_length` | ê¸¸ì´ ì œí•œ | `Field(min_length=1, max_length=50)` |
| | `pattern` | ì •ê·œì‹ íŒ¨í„´ | `Field(pattern=r'^\d{3}-\d{4}-\d{4}$')` |
| **ìˆ«ì** | `gt`, `ge` | ì´ˆê³¼, ì´ìƒ | `Field(gt=0)`, `Field(ge=1)` |
| | `lt`, `le` | ë¯¸ë§Œ, ì´í•˜ | `Field(lt=100)`, `Field(le=99)` |
| **ë¦¬ìŠ¤íŠ¸** | `min_length`, `max_length` | ìš”ì†Œ ê°œìˆ˜ ì œí•œ | `Field(min_length=1, max_length=10)` |
| **ëª¨ë“  íƒ€ì…** | `description` | í•„ë“œ ì„¤ëª… | `Field(description="ì‚¬ìš©ì ì´ë¦„")` |
| | `default`, `default_factory` | ê¸°ë³¸ê°’ | `Field(default="N/A")` |

### Enumì„ í™œìš©í•œ ì„ íƒì§€ ì œí•œ
```python
from enum import Enum

class UserRole(str, Enum):
    ADMIN = "admin"
    USER = "user"
    GUEST = "guest"

class User(BaseModel):
    name: str
    role: UserRole = UserRole.USER  # admin, user, guest ì¤‘ í•˜ë‚˜ë§Œ í—ˆìš©
    
    # ë˜ëŠ” Literal ì‚¬ìš©
    from typing import Literal
    status: Literal["active", "inactive", "pending"] = "active"
```

---

## ğŸ›¡ï¸ Validator ì‹¬í™” ê°€ì´ë“œ

### @field_validator (í•„ë“œë³„ ê²€ì¦)
```python
from pydantic import BaseModel, field_validator
import re

class User(BaseModel):
    name: str
    email: str
    password: str
    
    @field_validator('name')
    @classmethod
    def validate_name(cls, v):
        """ì´ë¦„ ê²€ì¦: í•œê¸€, ì˜ë¬¸ë§Œ í—ˆìš©"""
        if not re.match(r'^[ê°€-í£a-zA-Z\s]+$', v):
            raise ValueError('ì´ë¦„ì€ í•œê¸€ ë˜ëŠ” ì˜ë¬¸ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤')
        return v.strip()
    
    @field_validator('email')
    @classmethod
    def validate_email(cls, v):
        """ì´ë©”ì¼ ë„ë©”ì¸ ê²€ì¦"""
        allowed_domains = ['gmail.com', 'naver.com', 'company.com']
        domain = v.split('@')[-1]
        if domain not in allowed_domains:
            raise ValueError(f'í—ˆìš©ëœ ë„ë©”ì¸ì´ ì•„ë‹™ë‹ˆë‹¤: {allowed_domains}')
        return v.lower()
    
    @field_validator('password')
    @classmethod
    def validate_password(cls, v):
        """ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦"""
        if len(v) < 8:
            raise ValueError('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤')
        if not re.search(r'[A-Z]', v):
            raise ValueError('ëŒ€ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤')
        if not re.search(r'[0-9]', v):
            raise ValueError('ìˆ«ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤')
        return v
```

### @model_validator (ëª¨ë¸ ì „ì²´ ê²€ì¦)
```python
from pydantic import BaseModel, model_validator
from typing import Optional, List

class ExtractedData(BaseModel):
    people: List[dict] = Field(default_factory=list)
    companies: List[dict] = Field(default_factory=list)
    summary: Optional[str] = None
    
    @model_validator(mode='before')
    @classmethod
    def handle_none_values(cls, data):
        """LLMì´ Noneì„ ë°˜í™˜í•˜ëŠ” ê²½ìš° ì²˜ë¦¬"""
        if isinstance(data, dict):
            # None ê°’ì„ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
            if data.get('people') is None:
                data['people'] = []
            if data.get('companies') is None:
                data['companies'] = []
        return data
    
    @model_validator(mode='after')
    @classmethod
    def validate_content(cls, model):
        """í›„ì²˜ë¦¬ ê²€ì¦: ìµœì†Œ í•˜ë‚˜ì˜ ë°ì´í„°ëŠ” ìˆì–´ì•¼ í•¨"""
        if not model.people and not model.companies and not model.summary:
            raise ValueError('ìµœì†Œ í•˜ë‚˜ì˜ ì •ë³´ëŠ” ì¶”ì¶œë˜ì–´ì•¼ í•©ë‹ˆë‹¤')
        return model
```

### Validator ëª¨ë“œ ë¹„êµ

| ëª¨ë“œ | ì‹¤í–‰ ì‹œì  | ì…ë ¥ íƒ€ì… | ì£¼ìš” ìš©ë„ | ì˜ˆì‹œ |
|------|----------|----------|-----------|------|
| `mode='before'` | í•„ë“œ ê²€ì¦ ì „ | `dict` ë˜ëŠ” ì›ë³¸ | ë°ì´í„° ì „ì²˜ë¦¬, íƒ€ì… ë³€í™˜ | None â†’ [], ë¬¸ìì—´ ì •ë¦¬ |
| `mode='after'` | í•„ë“œ ê²€ì¦ í›„ | ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ | ëª¨ë¸ ê°„ ê´€ê³„ ê²€ì¦, í›„ì²˜ë¦¬ | í•„ë“œ ê°„ ì¼ê´€ì„± ì²´í¬ |

---

## ğŸ”— LangChainê³¼ì˜ í†µí•©

### with_structured_output í™œìš©
```python
from langchain_openai import ChatOpenAI
from pydantic import BaseModel, Field

class MovieReview(BaseModel):
    """ì˜í™” ë¦¬ë·° ì¶”ì¶œ ëª¨ë¸"""
    title: str = Field(description="ì˜í™” ì œëª©")
    rating: int = Field(ge=1, le=5, description="í‰ì  (1-5)")
    genre: str = Field(description="ì˜í™” ì¥ë¥´")
    review_text: str = Field(description="ë¦¬ë·° ë‚´ìš© ìš”ì•½")
    is_recommended: bool = Field(description="ì¶”ì²œ ì—¬ë¶€")

# LLMê³¼ ì—°ê²°
llm = ChatOpenAI(model="gpt-4o-mini")
structured_llm = llm.with_structured_output(
    schema=MovieReview,
    method="function_calling",
    include_raw=False
)

# ì‚¬ìš©
review_text = "ì•„ë°”íƒ€ëŠ” ì •ë§ í™˜ìƒì ì¸ ì˜í™”ì˜€ìŠµë‹ˆë‹¤. ì‹œê° íš¨ê³¼ê°€ ë†€ë¼ì› ê³  5ì  ë§Œì ì— 5ì ì„ ì£¼ê³  ì‹¶ì–´ìš”!"
result = structured_llm.invoke(review_text)
print(type(result))  # <class 'MovieReview'>
print(result.title)  # "ì•„ë°”íƒ€"
print(result.rating)  # 5
```

### ë³µì¡í•œ ì¶”ì¶œ ì‹œë‚˜ë¦¬ì˜¤
```python
from typing import List, Optional
from enum import Enum

class PersonRole(str, Enum):
    CEO = "ceo"
    CTO = "cto"
    DEVELOPER = "developer"
    DESIGNER = "designer"
    MANAGER = "manager"

class Person(BaseModel):
    name: str = Field(description="ì¸ë¬¼ ì´ë¦„")
    age: Optional[int] = Field(default=None, ge=0, le=120, description="ë‚˜ì´")
    role: Optional[PersonRole] = Field(default=None, description="ì—­í• /ì§ì±…")
    company: Optional[str] = Field(default=None, description="íšŒì‚¬ëª…")

class NewsArticle(BaseModel):
    title: str = Field(description="ê¸°ì‚¬ ì œëª©")
    people: List[Person] = Field(default_factory=list, description="ì–¸ê¸‰ëœ ì¸ë¬¼ë“¤")
    main_topic: str = Field(description="ì£¼ìš” ì£¼ì œ")
    sentiment: Literal["positive", "negative", "neutral"] = Field(description="ê°ì • ë¶„ì„")
    
    @model_validator(mode='after')
    @classmethod
    def validate_people_info(cls, model):
        """ì¸ë¬¼ ì •ë³´ ì¼ê´€ì„± ê²€ì¦"""
        for person in model.people:
            if person.role == PersonRole.CEO and not person.company:
                raise ValueError(f"CEO {person.name}ì˜ íšŒì‚¬ ì •ë³´ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤")
        return model
```

---

## ğŸ¯ ì‹¤ì „ í™œìš© íŒ¨í„´

### 1. ë‹¨ê³„ë³„ ì¶”ì¶œ (Progressive Extraction)
```python
class BasicInfo(BaseModel):
    """1ë‹¨ê³„: ê¸°ë³¸ ì •ë³´ ì¶”ì¶œ"""
    title: str
    main_topic: str

class DetailedInfo(BasicInfo):
    """2ë‹¨ê³„: ìƒì„¸ ì •ë³´ ì¶”ê°€"""
    people: List[Person] = Field(default_factory=list)
    companies: List[str] = Field(default_factory=list)
    keywords: List[str] = Field(default_factory=list)

class FullAnalysis(DetailedInfo):
    """3ë‹¨ê³„: ì™„ì „í•œ ë¶„ì„"""
    sentiment: str
    summary: str
    confidence_score: float = Field(ge=0.0, le=1.0)
```

### 2. ì¡°ê±´ë¶€ í•„ë“œ ê²€ì¦
```python
class UserProfile(BaseModel):
    name: str
    user_type: Literal["individual", "business"]
    
    # ê°œì¸ ì‚¬ìš©ì í•„ë“œ
    age: Optional[int] = None
    personal_id: Optional[str] = None
    
    # ë¹„ì¦ˆë‹ˆìŠ¤ ì‚¬ìš©ì í•„ë“œ
    company_name: Optional[str] = None
    business_number: Optional[str] = None
    
    @model_validator(mode='after')
    @classmethod
    def validate_user_type_fields(cls, model):
        """ì‚¬ìš©ì íƒ€ì…ì— ë”°ë¥¸ í•„ìˆ˜ í•„ë“œ ê²€ì¦"""
        if model.user_type == "individual":
            if not model.age or not model.personal_id:
                raise ValueError("ê°œì¸ ì‚¬ìš©ìëŠ” ë‚˜ì´ì™€ ê°œì¸IDê°€ í•„ìš”í•©ë‹ˆë‹¤")
        elif model.user_type == "business":
            if not model.company_name or not model.business_number:
                raise ValueError("ë¹„ì¦ˆë‹ˆìŠ¤ ì‚¬ìš©ìëŠ” íšŒì‚¬ëª…ê³¼ ì‚¬ì—…ìë²ˆí˜¸ê°€ í•„ìš”í•©ë‹ˆë‹¤")
        return model
```

---

## ğŸ¨ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. í•„ë“œ ì„¤ëª… ì‘ì„± ê°€ì´ë“œ
```python
class GoodExample(BaseModel):
    # âœ… ì¢‹ì€ ì˜ˆ: êµ¬ì²´ì ì´ê³  ëª…í™•í•œ ì„¤ëª…
    name: str = Field(description="ì œí’ˆì˜ ì „ì²´ ì´ë¦„ (ë¸Œëœë“œëª… í¬í•¨)")
    price: float = Field(gt=0, description="ì œí’ˆ ê°€ê²© (ì›í™” ê¸°ì¤€, ì •ìˆ˜ ë˜ëŠ” ì†Œìˆ˜)")
    category: str = Field(description="ì œí’ˆ ì¹´í…Œê³ ë¦¬ (ì „ìì œí’ˆ, ì˜ë¥˜, ì‹í’ˆ ë“±)")
    
class BadExample(BaseModel):
    # âŒ ë‚˜ìœ ì˜ˆ: ëª¨í˜¸í•˜ê³  ë¶ˆëª…í™•í•œ ì„¤ëª…
    name: str = Field(description="ì´ë¦„")
    price: float = Field(description="ê°€ê²©")
    category: str = Field(description="ì¹´í…Œê³ ë¦¬")
```

### 2. ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ
```python
class RobustExtractionModel(BaseModel):
    name: Optional[str] = None
    age: Optional[int] = None
    email: Optional[str] = None
    
    @field_validator('age')
    @classmethod
    def validate_age(cls, v):
        """ë‚˜ì´ ê²€ì¦ with ì•ˆì „í•œ ì—ëŸ¬ ì²˜ë¦¬"""
        if v is None:
            return None
        try:
            age = int(v)
            if 0 <= age <= 150:
                return age
            else:
                print(f"Warning: Invalid age {age}, setting to None")
                return None
        except (ValueError, TypeError):
            print(f"Warning: Cannot convert {v} to age, setting to None")
            return None
    
    @model_validator(mode='after')
    @classmethod
    def ensure_minimum_data(cls, model):
        """ìµœì†Œí•œì˜ ë°ì´í„° ë³´ì¥"""
        if not any([model.name, model.age, model.email]):
            # ì™„ì „íˆ ë¹ˆ ê²°ê³¼ë³´ë‹¤ëŠ” ê¸°ë³¸ê°’ ì œê³µ
            model.name = "ì •ë³´ ì—†ìŒ"
        return model
```

### 3. ì„±ëŠ¥ ìµœì í™”
```python
# Config ì„¤ì •ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”
class OptimizedModel(BaseModel):
    model_config = {
        'validate_assignment': False,  # í• ë‹¹ ì‹œ ì¬ê²€ì¦ ë¹„í™œì„±í™”
        'use_enum_values': True,       # Enum ê°’ ì§ì ‘ ì‚¬ìš©
        'populate_by_name': True,      # ë³„ì¹­ìœ¼ë¡œ í•„ë“œ ì ‘ê·¼ í—ˆìš©
    }
    
    name: str
    status: UserRole
```

---

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì™€ í•´ê²°ì±…

#### 1. ValidationError: Input should be a valid list
```python
# âŒ ë¬¸ì œ ìƒí™©
class DataModel(BaseModel):
    items: List[str]

# LLMì´ None ë°˜í™˜ ì‹œ ì˜¤ë¥˜ ë°œìƒ
data = {"items": None}
model = DataModel(**data)  # ValidationError!

# âœ… í•´ê²°ì±…
class DataModel(BaseModel):
    items: List[str] = Field(default_factory=list)
    
    @model_validator(mode='before')
    @classmethod
    def handle_none(cls, data):
        if isinstance(data, dict) and data.get('items') is None:
            data['items'] = []
        return data
```

#### 2. í•œêµ­ì–´ ì´ë¦„ ì²˜ë¦¬ ì˜¤ë¥˜
```python
# âœ… í•œêµ­ì–´ ì¹œí™”ì  ê²€ì¦
class KoreanNameModel(BaseModel):
    name: str
    
    @field_validator('name')
    @classmethod
    def validate_korean_name(cls, v):
        # í•œê¸€, ì˜ë¬¸, ê³µë°± í—ˆìš©
        import re
        if not re.match(r'^[ê°€-í£a-zA-Z\s]+$', v):
            raise ValueError('í•œê¸€ ë˜ëŠ” ì˜ë¬¸ ì´ë¦„ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤')
        return v.strip()
```

#### 3. Optional vs Required í•„ë“œ í˜¼ë™
```python
# âœ… ëª…í™•í•œ í•„ë“œ ì •ì˜
class ClearModel(BaseModel):
    # í•„ìˆ˜ í•„ë“œ (None í—ˆìš© ì•ˆí•¨)
    required_field: str
    
    # ì„ íƒ í•„ë“œ (None í—ˆìš©)
    optional_field: Optional[str] = None
    
    # ê¸°ë³¸ê°’ ìˆëŠ” í•„ë“œ
    default_field: str = "ê¸°ë³¸ê°’"
    
    # ë¦¬ìŠ¤íŠ¸ ê¸°ë³¸ê°’ (ë¹ˆ ë¦¬ìŠ¤íŠ¸)
    list_field: List[str] = Field(default_factory=list)
```

### ë””ë²„ê¹… íŒ
```python
# 1. ëª¨ë¸ ìŠ¤í‚¤ë§ˆ í™•ì¸
print(MyModel.model_json_schema())

# 2. ê²€ì¦ ì˜¤ë¥˜ ìì„¸íˆ ë³´ê¸°
try:
    model = MyModel(**data)
except ValidationError as e:
    print(e.errors())  # ìƒì„¸ ì˜¤ë¥˜ ì •ë³´
    for error in e.errors():
        print(f"Field: {error['loc']}, Error: {error['msg']}")

# 3. ëª¨ë¸ ìƒíƒœ í™•ì¸
model = MyModel(**valid_data)
print(model.model_dump())  # ë”•ì…”ë„ˆë¦¬ë¡œ ë³€í™˜
print(model.model_dump_json(indent=2))  # ì˜ˆìœ JSON ì¶œë ¥
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Pydantic ê³µì‹ ë¬¸ì„œ](https://docs.pydantic.dev/)
- [LangChain Structured Output ê°€ì´ë“œ](https://python.langchain.com/docs/how_to/structured_output/)
- [Python íƒ€ì… íŒíŠ¸ ê°€ì´ë“œ](https://docs.python.org/3/library/typing.html)

---

*ì´ ê°€ì´ë“œëŠ” Pydantic v2ì™€ LangChain v0.3+ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.* 